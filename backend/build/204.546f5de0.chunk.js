(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[204],{79194:(C,m,e)=>{"use strict";e.d(m,{v:()=>n});var t=e(67294),o=e(86706);function n(c,g){const r=(0,o.oR)();(0,t.useEffect)(()=>{r.injectReducer(c,g)},[r,c,g])}},7761:(C,m,e)=>{"use strict";e.d(m,{pl:()=>s,aY:()=>L,q5:()=>i.q});var t=e(67294),o=e(30422),n=e(25804),c=e(18172);const g={data:[],isLoading:!0},y=(w,O)=>(0,c.ZP)(w,p=>{switch(O.type){case"GET_DATA_SUCCEEDED":{p.data=O.data,p.isLoading=!1;break}case"GET_DATA_ERROR":{p.isLoading=!1;break}default:return p}}),s=({ssoEnabled:w})=>{const[O,p]=(0,t.useReducer)(y,g),T=(0,o.lm)(),{get:u}=(0,o.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!w){p({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:R}=await u((0,n.IF)("providers"));p({type:"GET_DATA_SUCCEEDED",data:R})}catch(R){console.error(R),p({type:"GET_DATA_ERROR"}),T({type:"warning",message:{id:"notification.error"}})}})()},[u,w,T]),O};var a=e(14293),f=e.n(a),h=e(86896),l=e(16550),i=e(71926);const v="strapi-notification-seat-limit",M="https://cloud.strapi.io/profile/billing",x="https://strapi.io/billing/request-seats",L=()=>{const{formatMessage:w}=(0,h.Z)();let{license:O,isError:p,isLoading:T}=(0,i.q)();const u=(0,o.lm)(),{pathname:D}=(0,l.TH)(),{enforcementUserCount:R,permittedSeats:W,licenseLimitStatus:I,isHostedOnStrapiCloud:U}=O;(0,t.useEffect)(()=>{if(p||T)return;const b=!f()(W)&&!window.sessionStorage.getItem(`${v}-${D}`)&&(I==="AT_LIMIT"||I==="OVER_LIMIT");let B;I==="OVER_LIMIT"?B="warning":I==="AT_LIMIT"&&(B="softWarning"),b&&u({type:B,message:w({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:I}),title:w({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:I,enforcementUserCount:R,permittedSeats:W}),link:{url:U?M:x,label:w({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:U})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${v}-${D}`,!0)}})},[u,O,D,w,T,W,I,R,U,p])}},71926:(C,m,e)=>{"use strict";e.d(m,{q:()=>c});var t=e(67294),o=e(30422),n=e(88767);function c({enabled:g}={enabled:!0}){const{get:r}=(0,o.kY)(),{data:y,isError:d,isLoading:s}=(0,n.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:h}}=await r("/admin/license-limit-information");return h},{enabled:g}),a=y??{},f=t.useCallback(h=>(a?.features??[]).find(i=>i.name===h)?.options??{},[a?.features]);return{license:a,getFeature:f,isError:d,isLoading:s}}},11984:(C,m,e)=>{"use strict";e.d(m,{CI:()=>c,FP:()=>r,Js:()=>d,_V:()=>n,fC:()=>o,rI:()=>y,xn:()=>g});var t=e(86978);function o({status:s,data:a}){return{type:t.qZ,payload:{status:s,workflow:a}}}function n(s){return{type:t.x4,payload:{stageId:s}}}function c(s={}){return{type:t.Ot,payload:s}}function g(s,a){return{type:t.Nj,payload:{stageId:s,...a}}}function r(s,a){return{type:t.$k,payload:{newIndex:a,oldIndex:s}}}function y(s){return{type:t.VS,payload:s}}function d(){return{type:t.gu}}},43390:(C,m,e)=>{"use strict";e.d(m,{eJ:()=>p,lx:()=>w,h4:()=>T,fC:()=>O});var t=e(67294),o=e(17034),n=e(185),c=e(49066),g=e(53979),r=e(30422),y=e(67109),d=e(86896),s=e(52713),a=e(86978),f=e(11047),h=e(75515),l=e(12645),i=e(45697),v=e.n(i),M=e(88972);const x=(0,M.ZP)(f.k)`
  svg path {
    fill: ${({theme:u})=>u.colors.neutral600};
  }
`;function P({name:u}){return t.createElement(f.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,r.Q1)(300)},t.createElement(x,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},t.createElement(l.Z,{width:`${8/16}rem`})),t.createElement(h.Z,{fontWeight:"bold"},u))}P.propTypes={name:v().string.isRequired};function L({type:u,item:D}){switch(u){case a.uL.STAGE:return t.createElement(P,{...D});default:return null}}function w(){return t.createElement(s.r,{renderItem:L})}function O({children:u}){return t.createElement(o.A,null,t.createElement(n.o,{tabIndex:-1},t.createElement(c.D,null,u)))}function p({href:u}){const{formatMessage:D}=(0,d.Z)();return t.createElement(r.rU,{startIcon:t.createElement(y.Z,null),to:u},D({id:"global.back",defaultMessage:"Back"}))}function T({title:u,subtitle:D,navigationAction:R,primaryAction:W}){return t.createElement(t.Fragment,null,t.createElement(r.SL,{name:u}),t.createElement(g.T,{navigationAction:R,primaryAction:W,title:u,subtitle:D}))}},38705:(C,m,e)=>{"use strict";e.d(m,{uT:()=>L,fC:()=>p,Dx:()=>P});var t=e(67294),o=e(75515),n=e(11047),c=e(42866),g=e(59946),r=e(41580),y=e(12028),d=e(80994),s=e(70968),a=e(45697),f=e.n(a),h=e(86896),l=e(88972);const i=e.p+"0cd5f8915b265d5b1856.png",v="limits-title",M="https://strapi.io/pricing-cloud",x="https://strapi.io/contact-sales";function P({children:T}){return t.createElement(o.Z,{variant:"alpha",id:v},T)}P.propTypes={children:f().node.isRequired};function L({children:T}){return t.createElement(o.Z,{variant:"omega"},T)}L.propTypes={children:f().node.isRequired};function w(){const{formatMessage:T}=(0,h.Z)();return t.createElement(n.k,{gap:2,paddingTop:4},t.createElement(d.Q,{variant:"default",isExternal:!0,href:M},T({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(d.Q,{variant:"tertiary",isExternal:!0,href:x},T({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const O=l.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:T})=>`-${T.spaces[7]}`};
  margin-top: ${({theme:T})=>`-${T.spaces[7]}`};
  width: 360px;
`;function p({children:T,isOpen:u,onClose:D}){const{formatMessage:R}=(0,h.Z)();return u?t.createElement(c.P,{labelledBy:v},t.createElement(g.f,null,t.createElement(n.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(n.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},T,t.createElement(w,null)),t.createElement(n.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(O,{src:i,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(r.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(y.h,{icon:t.createElement(s.Z,null),"aria-label":R({id:"global.close",defaultMessage:"Close"}),onClick:D})))))):null}p.defaultProps={isOpen:!1},p.propTypes={children:f().node.isRequired,isOpen:f().bool,onClose:f().func.isRequired}},68997:(C,m,e)=>{"use strict";e.d(m,{U:()=>$});var t=e(67294),o=e(41580),n=e(11047),c=e(30422),g=e(45697),r=e.n(g),y=e(86896),d=e(86706),s=e(88972),a=e(11984),f=e(75515),h=e(99782);const l=(0,s.ZP)(h.Z)`
  > circle {
    fill: ${({theme:E})=>E.colors.neutral150};
  }
  > path {
    fill: ${({theme:E})=>E.colors.neutral600};
  }
`,i=(0,s.ZP)(o.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:E})=>E.spaces[6]};
    width: ${({theme:E})=>E.spaces[6]};

    > path {
      fill: ${({theme:E})=>E.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:E})=>E.colors.primary600} !important;
    ${f.Z} {
      color: ${({theme:E})=>E.colors.primary600} !important;
    }

    ${l} {
      > circle {
        fill: ${({theme:E})=>E.colors.primary600};
      }
      > path {
        fill: ${({theme:E})=>E.colors.neutral100};
      }
    }
  }

  &:active {
    ${f.Z} {
      color: ${({theme:E})=>E.colors.primary600};
    }

    ${l} {
      > circle {
        fill: ${({theme:E})=>E.colors.primary600};
      }
      > path {
        fill: ${({theme:E})=>E.colors.neutral100};
      }
    }
  }
`;function v({children:E,...Z}){return t.createElement(i,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...Z},t.createElement(n.k,{gap:2},t.createElement(l,{"aria-hidden":!0}),t.createElement(f.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},E)))}v.propTypes={children:r().node.isRequired};var M=e(63237),x=e(48734),P=e(74756),L=e(12028),w=e(63081),O=e(11276),p=e(67819),T=e(16364),u=e(70642),D=e(20022),R=e(12814),W=e(41054),I=e(61080),U=e(21440),b=e(44949),B=e(86978),K=e(5318);const V=(0,K.s)();function S(){return t.createElement(o.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function k({id:E,index:Z,canDelete:G,canReorder:ee,canUpdate:H,isOpen:te=!1,stagesCount:z}){const Y=A=>`${A+1} of ${z}`,Q=A=>{J(j({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:N.value,position:Y(A)}))},ie=A=>{J(j({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:N.value,position:Y(A)}))},de=()=>{J(j({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:N.value}))},ce=(A,X)=>{J(j({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:N.value,position:Y(A)})),q((0,a.FP)(X,A))},[ne,J]=t.useState(null),{formatMessage:j}=(0,y.Z)(),{trackUsage:ue}=(0,c.rS)(),q=(0,d.I0)(),[ae,me]=t.useState(te),[N,re,ge]=(0,W.U$)(`stages.${Z}.name`),[_,oe,pe]=(0,W.U$)(`stages.${Z}.color`),[{handlerId:fe,isDragging:ve,handleKeyDown:he},Ee,ye,Te,se]=(0,U.Y9)(ee,{index:Z,item:{name:N.value},onGrabItem:Q,onDropItem:ie,onMoveItem:ce,onCancel:de,type:B.uL.STAGE}),Se=(0,b.FE)(Ee,ye),we=V.map(({hex:A,name:X})=>({value:A,label:j({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:X}),color:A}));t.useEffect(()=>{se((0,I.rX)(),{captureDraggingState:!1})},[se,Z]);const{themeColorName:Me}=(0,K.k)(_.value)??{};return t.createElement(o.x,{ref:Se},ne&&t.createElement(M.T,{"aria-live":"assertive"},ne),ve?t.createElement(S,null):t.createElement(x.U,{size:"S",variant:"primary",onToggle:()=>{me(!ae),ae||ue("willEditStage")},expanded:ae,shadow:"tableShadow",error:re.error??oe?.error??!1,hasErrorMessage:!1},t.createElement(P.B,{title:N.value,togglePosition:"left",action:t.createElement(n.k,null,G&&t.createElement(L.h,{background:"transparent",icon:t.createElement(D.Z,null),label:j({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete stage"}),noBorder:!0,onClick:()=>q((0,a._V)(E))}),t.createElement(L.h,{background:"transparent",disabled:!H,forwardedAs:"div",role:"button",noBorder:!0,tabIndex:0,"data-handler-id":fe,ref:Te,label:j({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:A=>A.stopPropagation(),onKeyDown:he},t.createElement(R.Z,null)))}),t.createElement(w.v,{padding:6,background:"neutral0",hasRadius:!0},t.createElement(O.r,{gap:4},t.createElement(p.P,{col:6},t.createElement(T.o,{...N,id:N.name,disabled:!H,label:j({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:re.error??!1,onChange:A=>{ge.setValue(A.target.value),q((0,a.xn)(E,{name:A.target.value}))},required:!0})),t.createElement(p.P,{col:6},t.createElement(u.q4,{disabled:!H,error:oe?.error??!1,id:_.name,required:!0,label:j({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:A=>{pe.setValue(A),q((0,a.xn)(E,{color:A}))},value:_.value.toUpperCase(),startIcon:t.createElement(n.k,{as:"span",height:2,background:_.value,borderColor:Me==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},we.map(({value:A,label:X,color:le})=>{const{themeColorName:xe}=(0,K.k)(le);return t.createElement(u.ag,{value:A,key:A,startIcon:t.createElement(n.k,{as:"span",height:2,background:le,borderColor:xe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},X)})))))))}k.propTypes=r().shape({id:r().number.isRequired,color:r().string.isRequired,canDelete:r().bool.isRequired,canReorder:r().bool.isRequired,canUpdate:r().bool.isRequired,stagesCount:r().number.isRequired}).isRequired;const F=(0,s.ZP)(o.x)`
  transform: translateX(-50%);
`;function $({canDelete:E,canUpdate:Z,stages:G}){const{formatMessage:ee}=(0,y.Z)(),H=(0,d.I0)(),{trackUsage:te}=(0,c.rS)();return t.createElement(n.k,{direction:"column",gap:6,width:"100%"},t.createElement(o.x,{position:"relative",spacing:4,width:"100%"},t.createElement(F,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),t.createElement(n.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},G.map((z,Y)=>{const Q=z?.id??z.__temp_key__;return t.createElement(o.x,{key:`stage-${Q}`,as:"li"},t.createElement(k,{id:Q,index:Y,isOpen:!z.id,canDelete:G.length>1&&E,canReorder:G.length>1,canUpdate:Z,stagesCount:G.length}))}))),Z&&t.createElement(v,{type:"button",onClick:()=>{H((0,a.CI)({name:""})),te("willCreateStage")}},ee({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}$.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},$.propTypes={canDelete:r().bool,canUpdate:r().bool,stages:r().arrayOf(r().shape({id:r().number,__temp_key__:r().number,name:r().string.isRequired}))}},85230:(C,m,e)=>{"use strict";e.d(m,{Y:()=>x});var t=e(67294),o=e(67730),n=e(75515),c=e(11276),g=e(67819),r=e(16364),y=e(30422),d=e(41054),s=e(45697),a=e.n(s),f=e(86896),h=e(86706),l=e(88972),i=e(11984);const v=(0,l.ZP)(o.ML)`
  padding-left: ${({theme:L})=>L.spaces[7]};
`,M=(0,l.ZP)(n.Z)`
  font-style: italic;
`;function x({canUpdate:L,contentTypes:{collectionTypes:w,singleTypes:O},currentWorkflow:p,workflows:T}){const{formatMessage:u,locale:D}=(0,f.Z)(),R=(0,h.I0)(),[W,I,U]=(0,d.U$)("name"),[b,B,K]=(0,d.U$)("contentTypes"),V=(0,y.Xe)(D,{sensitivity:"base"});return t.createElement(c.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},t.createElement(g.P,{col:6},t.createElement(r.o,{...W,id:W.name,disabled:!L,label:u({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:I.error??!1,onChange:S=>{R((0,i.rI)({name:S.target.value})),U.setValue(S.target.value)},required:!0})),t.createElement(g.P,{col:6},t.createElement(o.NU,{...b,customizeContent:S=>u({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:S.length}),disabled:!L,error:B.error??!1,id:b.name,label:u({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:S=>{R((0,i.rI)({contentTypes:S})),K.setValue(S)},placeholder:u({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...w.length>0?[{label:u({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:w.sort((S,k)=>V.compare(S.info.displayName,k.info.displayName)).map(S=>({label:S.info.displayName,value:S.uid}))}]:[],...O.length>0?[{label:u({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:O.map(S=>({label:S.info.displayName,value:S.uid}))}]:[]].map(S=>"children"in S?t.createElement(o.Ab,{key:S.label,label:S.label,values:S.children.map(k=>k.value.toString())},S.children.map(k=>{const{name:F}=T.find($=>(p&&$.id!==p.id||!p)&&$.contentTypes.includes(k.value))??{};return t.createElement(v,{key:k.value,value:k.value},u({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:k.label,name:F,em:(...$)=>t.createElement(n.Z,{as:"em",fontWeight:"bold"},$),i:(...$)=>t.createElement(M,null,$)}))})):t.createElement(o.ML,{key:S.value,value:S.value},S.label)))))}const P=a().shape({uid:a().string.isRequired,info:a().shape({displayName:a().string.isRequired}).isRequired});x.defaultProps={canUpdate:!0,currentWorkflow:void 0},x.propTypes={canUpdate:a().bool,contentTypes:a().shape({collectionTypes:a().arrayOf(P).isRequired,singleTypes:a().arrayOf(P).isRequired}).isRequired,currentWorkflow:a().object,workflows:a().array.isRequired}},86978:(C,m,e)=>{"use strict";e.d(m,{$k:()=>d,Ef:()=>l,FT:()=>f,Nj:()=>y,Ot:()=>r,VS:()=>s,_X:()=>i,gu:()=>n,lv:()=>a,qZ:()=>c,sN:()=>o,uL:()=>h,x4:()=>g});var t=e(42675);const o="settings_review-workflows",n="Settings/Review_Workflows/RESET_WORKFLOW",c="Settings/Review_Workflows/SET_WORKFLOW",g="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",r="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",y="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",d="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",s="Settings/Review_Workflows/WORKFLOW_UPDATE",a={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},f=t.W.colors.primary600,h={STAGE:"stage"},l="numberOfWorkflows",i="stagesPerWorkflow"},36530:(C,m,e)=>{"use strict";e.d(m,{n:()=>n});var t=e(30422),o=e(88767);function n(c={}){const{get:g}=(0,t.kY)(),{id:r="",...y}=c,d={populate:"stages"},{data:s,isLoading:a,status:f,refetch:h}=(0,o.useQuery)(["review-workflows","workflows",r],async()=>(await g(`/admin/review-workflows/workflows/${r}`,{params:{...d,...y}})).data);let l=[];return r&&s?.data?l=[s.data]:Array.isArray(s?.data)&&(l=s.data),{meta:s?.meta??{},workflows:l,isLoading:a,status:f,refetch:h}}},3848:(C,m,e)=>{"use strict";e.d(m,{E:()=>g,I:()=>r});var t=e(18172),o=e(18446),n=e.n(o),c=e(86978);const g={status:"loading",serverState:{workflow:null},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[]},isDirty:!1,hasDeletedServerStages:!1}}};function r(d=g,s){return(0,t.Uy)(d,a=>{const{payload:f}=s;switch(s.type){case c.qZ:{const{status:h,workflow:l}=f;a.status=h,l&&(a.serverState.workflow=l,a.clientState.currentWorkflow.data={...l,stages:l.stages.map(i=>({...i,color:i?.color??c.FT}))}),a.clientState.currentWorkflow.hasDeletedServerStages=!1;break}case c.gu:{a.clientState.currentWorkflow.data=g.clientState.currentWorkflow.data,a.serverState=g.serverState;break}case c.x4:{const{stageId:h}=f,{currentWorkflow:l}=d.clientState;a.clientState.currentWorkflow.data.stages=l.data.stages.filter(i=>(i?.id??i.__temp_key__)!==h),l.hasDeletedServerStages||(a.clientState.currentWorkflow.hasDeletedServerStages=!!(d.serverState.workflow?.stages??[]).find(i=>i.id===h));break}case c.Ot:{const{currentWorkflow:h}=d.clientState;h.data||(a.clientState.currentWorkflow.data={stages:[]});const l=y(a.clientState.currentWorkflow.data.stages);a.clientState.currentWorkflow.data.stages.push({...f,color:f?.color??c.FT,__temp_key__:l});break}case c.Nj:{const{currentWorkflow:h}=d.clientState,{stageId:l,...i}=f;a.clientState.currentWorkflow.data.stages=h.data.stages.map(v=>(v.id??v.__temp_key__)===l?{...v,...i}:v);break}case c.$k:{const{currentWorkflow:{data:{stages:h}}}=d.clientState,{newIndex:l,oldIndex:i}=f;if(l>=0&&l<h.length){const v=h[i];let M=[...h];M.splice(i,1),M.splice(l,0,v),a.clientState.currentWorkflow.data.stages=M}break}case c.VS:{a.clientState.currentWorkflow.data={...a.clientState.currentWorkflow.data,...f};break}default:break}d.clientState.currentWorkflow.data&&a.serverState.workflow?a.clientState.currentWorkflow.isDirty=!n()((0,t.Vk)(a.clientState.currentWorkflow).data,a.serverState.workflow):a.clientState.currentWorkflow.isDirty=!0})}const y=(d=[])=>{const s=d.map(a=>a.id??a.__temp_key__);return Math.max(...s,-1)+1}},5318:(C,m,e)=>{"use strict";e.d(m,{k:()=>n,s:()=>c});var t=e(42675),o=e(86978);function n(g){if(!g)return null;const y=Object.entries(t.W.colors).filter(([,d])=>d.toUpperCase()===g.toUpperCase()).reduce((d,[s])=>(o.lv?.[s]&&(d=s),d),null);return y?{themeColorName:y,name:o.lv[y]}:null}function c(){return Object.entries(o.lv).map(([g,r])=>({hex:t.W.colors[g].toUpperCase(),name:r}))}},66578:(C,m,e)=>{"use strict";e.d(m,{V:()=>c});var t=e(36968),o=e.n(t),n=e(87561);async function c({values:g,formatMessage:r}){const y=n.Ry({contentTypes:n.IX().of(n.Z_()),name:n.Z_().max(255,r({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:n.IX().of(n.Ry().shape({name:n.Z_().required(r({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,r({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",r({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(d){const{options:{context:s}}=this;return s.stages.filter(a=>a.name===d).length===1}),color:n.Z_().required(r({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i)})).min(1)});try{return await y.validate(g,{abortEarly:!1,context:g}),!0}catch(d){let s={};return d instanceof n.p8&&d.inner.forEach(a=>{o()(s,a.path,a.message)}),s}}},7334:(C,m,e)=>{var t=e(79833);function o(n){return t(n).toLowerCase()}C.exports=o},48734:(C,m,e)=>{"use strict";e.d(m,{U:()=>h,y:()=>a});var t=e(85893),o=e(67294),n=e(88972),c=e(13819),g=e(2504),r=e(75515),y=e(11047),d=e(41580);const s=({theme:l,expanded:i,variant:v,disabled:M,error:x})=>x?`1px solid ${l.colors.danger600} !important`:M?`1px solid ${l.colors.neutral150}`:i?`1px solid ${l.colors.primary600}`:v==="primary"?`1px solid ${l.colors.neutral0}`:`1px solid ${l.colors.neutral100}`,a=(0,n.ZP)(r.Z)``,f=(0,n.ZP)(d.x)`
  border: ${s};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:l})=>l.colors.primary600};

    ${a} {
      color: ${({theme:l,expanded:i})=>i?void 0:l.colors.primary700};
    }

    ${r.Z} {
      color: ${({theme:l,expanded:i})=>i?void 0:l.colors.primary600};
    }

    & > ${y.k} {
      background: ${({theme:l})=>l.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:l})=>l.colors.primary200};
    }
  }
`,h=({children:l,disabled:i=!1,error:v,expanded:M=!1,hasErrorMessage:x=!0,id:P,onToggle:L,toggle:w,size:O="M",variant:p="primary",shadow:T})=>{const u=(0,g.M)(P),D=o.useMemo(()=>({expanded:M,onToggle:L,toggle:w,id:u,size:O,variant:p,disabled:i}),[i,M,u,L,O,w,p]);return(0,t.jsxs)(c.S.Provider,{value:D,children:[(0,t.jsx)(f,{"data-strapi-expanded":M,disabled:i,"aria-disabled":i,expanded:M,hasRadius:!0,variant:p,error:v,shadow:T,children:l}),v&&x&&(0,t.jsx)(d.x,{paddingTop:1,children:(0,t.jsx)(r.Z,{variant:"pi",textColor:"danger600",children:v})})]})}},63081:(C,m,e)=>{"use strict";e.d(m,{v:()=>c});var t=e(85893),o=e(13819),n=e(41580);const c=({children:g,...r})=>{const{expanded:y,id:d}=(0,o.A)();if(!y)return null;const s=`accordion-content-${d}`,a=`accordion-label-${d}`,f=`accordion-desc-${d}`;return(0,t.jsx)(n.x,{role:"region",id:s,"aria-labelledby":a,"aria-describedby":f,...r,children:g})}},13819:(C,m,e)=>{"use strict";e.d(m,{A:()=>n,S:()=>o});var t=e(67294);const o=(0,t.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),n=()=>(0,t.useContext)(o)},74756:(C,m,e)=>{"use strict";e.d(m,{B:()=>l});var t=e(85893),o=e(12645),n=e(88972),c=e(48734),g=e(13819);const r=({expanded:i,disabled:v,variant:M})=>{let x="neutral100";return i?x="primary100":v?x="neutral150":M==="primary"&&(x="neutral0"),x};var y=e(39785),d=e(52624),s=e(11047),a=e(75515);const f=(0,n.ZP)(y.A)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:i,expanded:v})=>v?i.colors.primary600:i.colors.neutral500};
    }
  }
`,h=(0,n.ZP)(s.k)`
  min-height: ${({theme:i,size:v})=>i.sizes.accordions[v]};
  border-radius: ${({theme:i,expanded:v})=>v?`${i.borderRadius} ${i.borderRadius} 0 0`:i.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:i})=>i.colors.primary600};
      }
    }
  }
`,l=({title:i,description:v,as:M="span",togglePosition:x="right",action:P,...L})=>{const{onToggle:w,toggle:O,expanded:p,id:T,size:u,variant:D,disabled:R}=(0,g.A)(),W=`accordion-content-${T}`,I=`accordion-label-${T}`,U=`accordion-desc-${T}`,b=u==="M"?6:4,B=u==="M"?b:b-2,K=r({expanded:p,disabled:R,variant:D}),V={as:M,fontWeight:u==="S"?"bold":void 0,id:I,textColor:p?"primary600":"neutral700",ellipsis:!0,variant:u==="M"?"delta":void 0},S=p?"primary600":"neutral600",k=p?"primary200":"neutral200",F=u==="M"?`${32/16}rem`:`${24/16}rem`,$=()=>{R||(O&&!w?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),O()):w&&w())},E=(0,t.jsx)(s.k,{justifyContent:"center",borderRadius:"50%",height:F,width:F,transform:p?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:k,cursor:R?"not-allowed":"pointer",onClick:$,shrink:0,children:(0,t.jsx)(d.J,{as:o.Z,width:u==="M"?`${11/16}rem`:`${8/16}rem`,color:p?"primary600":"neutral600"})});return(0,t.jsx)(h,{paddingBottom:B,paddingLeft:b,paddingRight:b,paddingTop:B,background:K,expanded:p,size:u,justifyContent:"space-between",cursor:R?"not-allowed":"",children:(0,t.jsxs)(s.k,{gap:3,flex:1,maxWidth:"100%",children:[x==="left"&&E,(0,t.jsx)(f,{onClick:$,"aria-disabled":R,"aria-expanded":p,"aria-controls":W,"aria-labelledby":I,"data-strapi-accordion-toggle":!0,expanded:p,type:"button",flex:1,minWidth:0,...L,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.y,{...V,children:i}),v&&(0,t.jsx)(a.Z,{as:"p",id:U,textColor:S,children:v})]})}),x==="right"&&(0,t.jsxs)(s.k,{gap:3,children:[E,P]}),x==="left"&&P]})})}},67109:(C,m,e)=>{"use strict";e.d(m,{Z:()=>n});var t=e(85893);const o=c=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:(0,t.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),n=o},12814:(C,m,e)=>{"use strict";e.d(m,{Z:()=>n});var t=e(85893);const o=c=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:[(0,t.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),n=o},99782:(C,m,e)=>{"use strict";e.d(m,{Z:()=>n});var t=e(85893);const o=c=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:[(0,t.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,t.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),n=o}}]);
