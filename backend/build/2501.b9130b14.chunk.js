"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[2501],{7761:(I,h,t)=>{t.d(h,{pl:()=>O,aY:()=>R,q5:()=>a.q});var e=t(67294),E=t(30422),v=t(25804),c=t(18172);const l={data:[],isLoading:!0},T=(s,u)=>(0,c.ZP)(s,i=>{switch(u.type){case"GET_DATA_SUCCEEDED":{i.data=u.data,i.isLoading=!1;break}case"GET_DATA_ERROR":{i.isLoading=!1;break}default:return i}}),O=({ssoEnabled:s})=>{const[u,i]=(0,e.useReducer)(T,l),r=(0,E.lm)(),{get:L}=(0,E.kY)();return(0,e.useEffect)(()=>{(async()=>{try{if(!s){i({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:P}=await L((0,v.IF)("providers"));i({type:"GET_DATA_SUCCEEDED",data:P})}catch(P){console.error(P),i({type:"GET_DATA_ERROR"}),r({type:"warning",message:{id:"notification.error"}})}})()},[L,s,r]),u};var g=t(14293),f=t.n(g),m=t(86896),D=t(16550),a=t(71926);const p="strapi-notification-seat-limit",C="https://cloud.strapi.io/profile/billing",n="https://strapi.io/billing/request-seats",R=()=>{const{formatMessage:s}=(0,m.Z)();let{license:u,isError:i,isLoading:r}=(0,a.q)();const L=(0,E.lm)(),{pathname:A}=(0,D.TH)(),{enforcementUserCount:P,permittedSeats:S,licenseLimitStatus:y,isHostedOnStrapiCloud:U}=u;(0,e.useEffect)(()=>{if(i||r)return;const Z=!f()(S)&&!window.sessionStorage.getItem(`${p}-${A}`)&&(y==="AT_LIMIT"||y==="OVER_LIMIT");let B;y==="OVER_LIMIT"?B="warning":y==="AT_LIMIT"&&(B="softWarning"),Z&&L({type:B,message:s({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:y}),title:s({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:y,enforcementUserCount:P,permittedSeats:S}),link:{url:U?C:n,label:s({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:U})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${p}-${A}`,!0)}})},[L,u,A,s,r,S,y,P,U,i])}},71926:(I,h,t)=>{t.d(h,{q:()=>c});var e=t(67294),E=t(30422),v=t(88767);function c({enabled:l}={enabled:!0}){const{get:d}=(0,E.kY)(),{data:T,isError:o,isLoading:O}=(0,v.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:m}}=await d("/admin/license-limit-information");return m},{enabled:l}),g=T??{},f=e.useCallback(m=>(g?.features??[]).find(a=>a.name===m)?.options??{},[g?.features]);return{license:g,getFeature:f,isError:o,isLoading:O}}},80090:(I,h,t)=>{t.d(h,{Z:()=>C});var e=t(67294),E=t(11047),v=t(84495),c=t(75515),l=t(11276),d=t(67819),T=t(45697),o=t.n(T),O=t(86896),g=t(73727),f=t(88972);const m=f.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:n})=>n.colors.neutral600};
`,D=(0,f.ZP)(E.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:n})=>n.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:n})=>n.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:n})=>n.spaces[2]};
  }
`,a=({provider:n})=>e.createElement(v.u,{label:n.displayName},e.createElement(m,{href:`${window.strapi.backendURL}/admin/connect/${n.uid}`},n.icon?e.createElement("img",{src:n.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(c.Z,null,n.displayName)));a.propTypes={provider:o().shape({icon:o().string,displayName:o().string.isRequired,uid:o().string.isRequired}).isRequired};const p=({providers:n,displayAllProviders:M})=>{const{formatMessage:R}=(0,O.Z)();return M?e.createElement(l.r,{gap:4},n.map(s=>e.createElement(d.P,{key:s.uid,col:4},e.createElement(a,{provider:s})))):n.length>2&&!M?e.createElement(l.r,{gap:4},n.slice(0,2).map(s=>e.createElement(d.P,{key:s.uid,col:4},e.createElement(a,{provider:s}))),e.createElement(d.P,{col:4},e.createElement(v.u,{label:R({id:"global.see-more"})},e.createElement(m,{as:g.rU,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(D,{justifyContent:"center"},n.map(s=>e.createElement(a,{key:s.uid,provider:s})))};p.defaultProps={displayAllProviders:!0},p.propTypes={providers:o().arrayOf(o().object).isRequired,displayAllProviders:o().bool};const C=p},52501:(I,h,t)=>{t.r(h),t.d(h,{FORMS:()=>s});var e=t(67294),E=t(70004),v=t(185),c=t(41580),l=t(75515),d=t(11047),T=t(77197),o=t(29728),O=t(30422),g=t(86896),f=t(16550),m=t(88972),D=t(68890),a=t(50745),p=t(7761),C=t(80090);const n=(0,m.ZP)(E.i)`
  flex: 1;
`,s={providers:{Component:()=>{const u=window.strapi.features.isEnabled(window.strapi.features.SSO),{push:i}=(0,f.k6)(),{formatMessage:r}=(0,g.Z)(),{isLoading:L,data:A}=(0,p.pl)({ssoEnabled:u}),P=()=>{i("/auth/login")};return!u||!L&&A.length===0?e.createElement(f.l_,{to:"/auth/login"}):e.createElement(a.ZP,null,e.createElement(v.o,null,e.createElement(a.bU,null,e.createElement(a.sg,null,e.createElement(D.Z,null),e.createElement(c.x,{paddingTop:6,paddingBottom:1},e.createElement(l.Z,{as:"h1",variant:"alpha"},r({id:"Auth.form.welcome.title"}))),e.createElement(c.x,{paddingBottom:7},e.createElement(l.Z,{variant:"epsilon",textColor:"neutral600"},r({id:"Auth.login.sso.subtitle"})))),e.createElement(d.k,{direction:"column",alignItems:"stretch",gap:7},L?e.createElement(d.k,{justifyContent:"center"},e.createElement(T.a,null,r({id:"Auth.login.sso.loading"}))):e.createElement(C.Z,{providers:A}),e.createElement(d.k,null,e.createElement(n,null),e.createElement(c.x,{paddingLeft:3,paddingRight:3},e.createElement(l.Z,{variant:"sigma",textColor:"neutral600"},r({id:"or"}))),e.createElement(n,null)),e.createElement(o.z,{fullWidth:!0,size:"L",onClick:P},r({id:"Auth.form.button.login.strapi"})))),e.createElement(d.k,{justifyContent:"center"},e.createElement(c.x,{paddingTop:4},e.createElement(O.rU,{to:"/auth/forgot-password"},e.createElement(l.Z,{variant:"pi"},r({id:"Auth.link.forgot-password"})))))))},endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}}}]);
